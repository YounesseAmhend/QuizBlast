{"ast":null,"code":"import _toConsumableArray from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";export function useAuth(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),is_authenticated=_useState2[0],setAuthentication=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var isAuthenticateds=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/auth\",{method:\"GET\"}).then(function(response){return response.json();}).then(function(result){console.log(result);setAuthentication(result.is_authenticated);setLoaded(true);}).catch(function(Error){return setError(Error);});case 2:case\"end\":return _context.stop();}},_callee);}));return function isAuthenticateds(){return _ref.apply(this,arguments);};}();isAuthenticateds();},[]);return{is_authenticated:is_authenticated,loaded:loaded,error:error};}export function useFetch(link,init){var method=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'GET';var request=arguments.length>3?arguments[3]:undefined;var _useState7=useState(init),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loaded=_useState10[0],setLoaded=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var _useState13=useState(request),_useState14=_slicedToArray(_useState13,2),APIrequest=_useState14[0],setRequest=_useState14[1];var fetching=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://127.0.0.1:8000\"+link,{method:method,body:JSON.stringify(request)}).then(function(response){return response.json();}).then(function(result){if(!result.error){console.log(data);setData(function(old){return[].concat(_toConsumableArray(old),_toConsumableArray(result));});setLoaded(true);}else{setError(result.error);}}).catch(function(err){return setError(err);});case 2:case\"end\":return _context2.stop();}},_callee2);}));return function fetching(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(method==='GET'){fetch(\"http://127.0.0.1:8000\"+link).then(function(response){console.log(response);return response.json();}).then(function(result){setData(result);setLoaded(true);}).catch(function(err){return setError(err);});}else if(method==='POST'){fetching();}},[APIrequest]);return{data:data,loaded:loaded,error:error,setRequest:setRequest};}","map":{"version":3,"names":["useState","useEffect","useAuth","_useState","undefined","_useState2","_slicedToArray","is_authenticated","setAuthentication","_useState3","_useState4","loaded","setLoaded","_useState5","_useState6","error","setError","isAuthenticateds","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","method","then","response","json","result","console","log","catch","Error","stop","apply","arguments","useFetch","link","init","length","request","_useState7","_useState8","data","setData","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","APIrequest","setRequest","fetching","_ref2","_callee2","_callee2$","_context2","body","JSON","stringify","old","concat","_toConsumableArray","err"],"sources":["C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/src/components/ts/hooks.ts"],"sourcesContent":["import {useState, useEffect, useRef, useCallback } from \"react\"\r\n\r\ntype method = 'GET' | 'POST' | 'DELETE' | 'PUT' | 'PATCH'\r\n\r\nexport function useAuth(){\r\n    const [is_authenticated, setAuthentication] = useState<boolean | undefined>(undefined)\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [error, setError] = useState(undefined)\r\n    useEffect(()=>{\r\n            const isAuthenticateds = async () => {\r\n                await fetch(\"/auth\",{\r\n                    method: \"GET\",\r\n                    })\r\n                    .then((response) => response.json())\r\n                    .then((result) => {\r\n                        console.log(result)\r\n                        setAuthentication(result.is_authenticated)\r\n                        setLoaded(true)\r\n                    })\r\n                    .catch((Error)=>setError(Error))\r\n            }\r\n            isAuthenticateds()\r\n        }\r\n    ,[])\r\n    return {is_authenticated, loaded, error}\r\n}\r\n\r\nexport function useFetch<T>(link: string, init?: T, method: method = 'GET', request?: any){\r\n\r\n    const [data, setData] = useState<T | undefined | any>(init)\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [error, setError] = useState<string | undefined>()\r\n    const [APIrequest, setRequest] = useState(request)\r\n    const fetching = async()=>{\r\n            await fetch(\"http://127.0.0.1:8000\"+link,{\r\n                method: method,\r\n                body: JSON.stringify(request),\r\n            })\r\n            .then(response =>{\r\n                return response.json()\r\n            })\r\n            .then((result)=>{\r\n                if(!result.error){\r\n                    console.log(data)\r\n                    setData((old:any)=>[...old,...result])\r\n                    setLoaded(true)\r\n                }\r\n                else{\r\n                    setError(result.error);\r\n                }\r\n            })\r\n            .catch(err=>setError(err))\r\n        }\r\n    useEffect(()=>{\r\n        if(method === 'GET'){\r\n        fetch(\"http://127.0.0.1:8000\"+link)\r\n        .then(response =>{\r\n            console.log(response)\r\n            return response.json()\r\n        })\r\n        .then((result)=>{\r\n            setData(result)\r\n            setLoaded(true)\r\n        })\r\n        .catch(err=>setError(err))\r\n        \r\n    }\r\n    else if(method === 'POST'){\r\n        fetching()\r\n    }\r\n    },[APIrequest])\r\n    \r\n    return {data, loaded, error, setRequest}\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}