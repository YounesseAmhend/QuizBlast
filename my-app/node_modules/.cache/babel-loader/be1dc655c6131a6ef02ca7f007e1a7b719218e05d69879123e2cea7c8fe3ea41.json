{"ast":null,"code":"import _objectSpread from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useFetch}from\"../ts/hooks\";import{useState}from\"react\";import Loading from\"../ts/components/loading\";import QuizPage from\"./Pages/QuizPage\";import QuizStart from\"./Pages/QuizStartPage\";import QuizResult from\"./Pages/QuizResult\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PAGES={START:\"startView\",PAGE:\"pageView\",RESULT:\"resultView\"};export default function QuizDisplay(props){var id=props.id;var _useFetch=useFetch(\"/q/\"+id),Quiz=_useFetch.data,loaded=_useFetch.loaded;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),score=_useState2[0],setScore=_useState2[1];var _useState3=useState({startView:true,pageView:false,resultView:false}),_useState4=_slicedToArray(_useState3,2),pages=_useState4[0],setPages=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),result=_useState6[0],setResult=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),correctQuestions=_useState8[0],setCorrectQuestions=_useState8[1];function navigateTo(page){Object.keys(pages).forEach(function(key,value){key===page?pages[key]=true:pages[key]=false;});setPages(_objectSpread({},pages));}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loading,{loaded:loaded}),/*#__PURE__*/_jsx(QuizStart,{visible:pages.startView,loaded:loaded,startQuiz:function startQuiz(){return navigateTo(PAGES.PAGE);},quizname:Quiz===null||Quiz===void 0?void 0:Quiz.quiz.name,questionLength:Quiz===null||Quiz===void 0?void 0:Quiz.questions.length}),Quiz&&/*#__PURE__*/_jsx(QuizPage,{setResults:setResult,setCorrectQuestions:setCorrectQuestions,setScore:setScore,score:score,Quiz:Quiz,setVisible:function setVisible(){return navigateTo(PAGES.RESULT);},visible:pages.pageView}),/*#__PURE__*/_jsx(QuizResult,{result:result,quizname:Quiz===null||Quiz===void 0?void 0:Quiz.quiz.name,questionLength:Quiz===null||Quiz===void 0?void 0:Quiz.questions.length,correctQuestions:correctQuestions,score:score,visible:pages.resultView})]});}","map":{"version":3,"names":["useFetch","useState","Loading","QuizPage","QuizStart","QuizResult","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PAGES","START","PAGE","RESULT","QuizDisplay","props","id","_useFetch","Quiz","data","loaded","_useState","_useState2","_slicedToArray","score","setScore","_useState3","startView","pageView","resultView","_useState4","pages","setPages","_useState5","_useState6","result","setResult","_useState7","_useState8","correctQuestions","setCorrectQuestions","navigateTo","page","Object","keys","forEach","key","value","_objectSpread","children","visible","startQuiz","quizname","quiz","name","questionLength","questions","length","setResults","setVisible"],"sources":["C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/src/components/QuizView/QuizDisplay.tsx"],"sourcesContent":["import { useFetch } from \"../ts/hooks\"\r\nimport { useState } from \"react\";\r\nimport Loading from \"../ts/components/loading\";\r\nimport QuizPage from \"./Pages/QuizPage\";\r\nimport QuizStart from \"./Pages/QuizStartPage\";\r\nimport QuizResult from \"./Pages/QuizResult\";\r\n\r\ninterface Option{\r\n    id: number;\r\n    content: string;\r\n    correct: boolean;\r\n}\r\ninterface Quiz {\r\n    id: number;\r\n    name: string;\r\n    username: string;\r\n}\r\ninterface Results{\r\n    count:number;\r\n    Quesiton:string;\r\n    answer:string;\r\n    correct: boolean;\r\n    correctAnswer:string;\r\n    quote?:string;\r\n}\r\ninterface Question {\r\n    count: number,\r\n    quiz_id: number,\r\n    id: number | undefined,\r\n    content: string,\r\n    options: Option[],\r\n    quote: string,\r\n}\r\ninterface FullQuestion{\r\n    question: Question,\r\n    options: Option[],\r\n}\r\ninterface FullQuiz{\r\n    quiz: Quiz,\r\n    questions:FullQuestion[]\r\n}\r\ninterface Props{\r\n    id:number,\r\n}\r\nconst PAGES = {\r\n    START:\"startView\",\r\n    PAGE:\"pageView\",\r\n    RESULT:\"resultView\",\r\n}\r\ninterface pages{\r\n    startView: boolean,\r\n    pageView: boolean,\r\n    resultView: boolean,\r\n}\r\nexport default function QuizDisplay(props: Props){\r\n    const { id } = props\r\n    const {data : Quiz, loaded} = useFetch<FullQuiz>(\"/q/\"+id)\r\n    const [score, setScore] = useState(0)\r\n    const [pages, setPages] = useState({\r\n        startView: true,\r\n        pageView: false,\r\n        resultView: false,\r\n    })\r\n    const [result, setResult] = useState<Results[]>([]);\r\n    const [correctQuestions, setCorrectQuestions] = useState(0)\r\n    function navigateTo(page: string){\r\n        Object.keys(pages).forEach((key, value) => {\r\n            key === page ? pages[key as keyof pages] = true : pages[key as keyof pages] = false\r\n          })\r\n        setPages({...pages})\r\n    }\r\n    return(\r\n        <>\r\n            <Loading loaded={loaded}/>\r\n            <QuizStart \r\n              visible={pages.startView} \r\n              loaded={loaded} \r\n              startQuiz={() => navigateTo(PAGES.PAGE)} \r\n              quizname={Quiz?.quiz.name} \r\n              questionLength={Quiz?.questions.length}\r\n            />\r\n            {Quiz && \r\n                <QuizPage setResults={setResult} setCorrectQuestions={setCorrectQuestions} setScore={setScore} score={score} Quiz={Quiz} setVisible={() => navigateTo(PAGES.RESULT)} visible={pages.pageView}/>\r\n            }\r\n            <QuizResult result={result} quizname={Quiz?.quiz.name}  questionLength={Quiz?.questions.length} correctQuestions={correctQuestions} score={score}visible={pages.resultView}/>\r\n        </>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}