{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nexport function useAuth() {\n  _s();\n  const [is_authenticated, setAuthentication] = useState(undefined);\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(undefined);\n  useEffect(() => {\n    const isAuthenticateds = async () => {\n      await fetch(\"/auth\", {\n        method: \"GET\"\n      }).then(response => response.json()).then(result => {\n        console.log(result);\n        setAuthentication(result.is_authenticated);\n        setLoaded(true);\n      }).catch(Error => setError(Error));\n    };\n    isAuthenticateds();\n  }, []);\n  return {\n    is_authenticated,\n    loaded,\n    error\n  };\n}\n_s(useAuth, \"AIrO7UsjOKaX0P6riink8D5cvg4=\");\nexport function useFetch(link, init) {\n  _s2();\n  let method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n  let request = arguments.length > 3 ? arguments[3] : undefined;\n  const [data, setData] = useState(init);\n  const [loaded, setLoaded] = useState(false);\n  const hasMore = useRef(true);\n  const [error, setError] = useState();\n  const fetchMore = async request => {\n    console.log(request);\n    await fetch(\"http://127.0.0.1:8000\" + link, {\n      method: method,\n      body: JSON.stringify(request)\n    }).then(response => {\n      return response.json();\n    }).then(result => {\n      if (!result.error) {\n        console.log(data);\n        setData(old => [...old, ...result]);\n        setLoaded(true);\n      } else {\n        setError(result.error);\n        hasMore.current = false;\n        console.log(\"Enough\");\n      }\n    }).catch(err => setError(err));\n  };\n  useEffect(() => {\n    if (method === 'GET') {\n      const fetchdata = async () => {\n        await fetch(\"http://127.0.0.1:8000\" + link).then(response => {\n          console.log(response);\n          return response.json();\n        }).then(result => {\n          setData(result);\n          setLoaded(true);\n        }).catch(err => setError(err));\n      };\n      fetchdata();\n    }\n  }, []);\n  return {\n    data,\n    loaded,\n    error,\n    hasMore,\n    fetchMore\n  };\n}\n_s2(useFetch, \"KWF354SZQhsKqF6kQqyQRE8sek4=\");","map":{"version":3,"names":["useState","useEffect","useRef","useAuth","_s","is_authenticated","setAuthentication","undefined","loaded","setLoaded","error","setError","isAuthenticateds","fetch","method","then","response","json","result","console","log","catch","Error","useFetch","link","init","_s2","arguments","length","request","data","setData","hasMore","fetchMore","body","JSON","stringify","old","current","err","fetchdata"],"sources":["C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/src/components/ts/hooks.ts"],"sourcesContent":["import {useState, useEffect, useRef, useCallback } from \"react\"\r\n\r\ntype method = 'GET' | 'POST' | 'DELETE' | 'PUT' | 'PATCH'\r\n\r\nexport function useAuth(){\r\n\r\n    const [is_authenticated, setAuthentication] = useState<boolean | undefined>(undefined)\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [error, setError] = useState(undefined)\r\n\r\n    useEffect(()=>{\r\n        \r\n            const isAuthenticateds = async () => {\r\n\r\n                await fetch(\"/auth\",{\r\n                    method: \"GET\",\r\n                    })\r\n\r\n                    .then((response) => response.json())\r\n\r\n                    .then((result) => {\r\n                        console.log(result)\r\n                        setAuthentication(result.is_authenticated)\r\n                        setLoaded(true)\r\n                    })\r\n\r\n                    .catch((Error)=>setError(Error))\r\n\r\n            }\r\n\r\n            isAuthenticateds()\r\n\r\n        }\r\n    ,[])\r\n\r\n    return {is_authenticated, loaded, error}\r\n}\r\n\r\nexport function useFetch<T>(link: string, init?: T, method: method = 'GET', request?: any){\r\n\r\n    const [data, setData] = useState<T | undefined | any>(init)\r\n\r\n    const [loaded, setLoaded] = useState(false)\r\n\r\n    const hasMore = useRef(true)\r\n\r\n    const [error, setError] = useState<string | undefined>()\r\n\r\n    const fetchMore = async (request: any) =>{\r\n            console.log(request)\r\n            await fetch(\"http://127.0.0.1:8000\" + link, {\r\n                method: method,\r\n                body: JSON.stringify(request),\r\n            })\r\n\r\n            .then(response =>{\r\n                return response.json()\r\n            })\r\n\r\n            .then((result)=>{\r\n\r\n                if(!result.error){\r\n\r\n                    console.log(data)\r\n\r\n                    setData((old:any)=>[...old,...result])\r\n                    \r\n                    setLoaded(true)\r\n                }\r\n                else{\r\n\r\n                    setError(result.error);\r\n\r\n                    hasMore.current = false;\r\n\r\n                    console.log(\"Enough\");\r\n                }\r\n            })\r\n            .catch(err=>setError(err))\r\n        }\r\n    useEffect(()=>{\r\n\r\n        if(method === 'GET'){\r\n\r\n            const fetchdata = async () => {\r\n                await fetch(\"http://127.0.0.1:8000\"+link)\r\n                .then(response =>{\r\n                    console.log(response)\r\n                    return response.json()\r\n                })\r\n                .then((result)=>{\r\n                    setData(result)\r\n                    setLoaded(true)\r\n                })\r\n                .catch(err=>setError(err))\r\n            }   \r\n\r\n            fetchdata()\r\n    }\r\n    },[])\r\n    \r\n    return {data, loaded, error, hasMore, fetchMore}\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}