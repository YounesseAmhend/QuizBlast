{"ast":null,"code":"import _objectSpread from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import QuizForm from'./components/QuizForm/Quizform';import Navbar from'./components/Navbar';import Login from'./components/Login';import Register from'./components/Register';import QuizDisplay from'./components/QuizView/QuizDisplay';import{useState,useEffect,useCallback}from\"react\";import Home from'./components/QuizView/Quizview';import{useAuth}from'./components/ts/hooks';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PAGES={HOME:{name:\"home\",path:\"/\",auth:false},NEW:{name:\"new\",path:\"/new\",auth:true},VIEW_QUIZ:{name:\"view_quiz\",path:\"/quiz/\",auth:true},REGISTER:{name:\"register\",path:\"/register\",auth:false},LOGIN:{name:\"login\",path:\"/login\",auth:false}};function App(){useEffect(function(){window.onpopstate=function(){window.location.reload();};},[]);var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useAuth=useAuth(),is_authenticated=_useAuth.is_authenticated,loaded=_useAuth.loaded;var _useState3=useState({home:true,new:false,view_quiz:false,register:false,login:false}),_useState4=_slicedToArray(_useState3,2),display=_useState4[0],setDisplays=_useState4[1];var navigateTo=useCallback(function(page){Object.keys(display).forEach(function(key,value){key===page.name?display[key]=true:display[key]=false;});if(page.path!==PAGES.VIEW_QUIZ.path){goToPath(page.path);}setDisplays(_objectSpread({},display));},[]);useEffect(function(){var pathname=window.location.pathname;Object.keys(PAGES).forEach(function(key,value){if(loaded){if(pathname.substring(0,6)===PAGES.VIEW_QUIZ.path&&is_authenticated){setId(parseInt(pathname.substring(6,pathname.length)));navigateTo({path:pathname,name:PAGES.VIEW_QUIZ.name,auth:PAGES.VIEW_QUIZ.auth});}else if(PAGES[key].path===pathname&&pathname!==\"/\"&&PAGES[key].auth===is_authenticated){navigateTo(PAGES[key]);}}});},[is_authenticated]);useEffect(function(){if(id&&display.view_quiz){goToPath(\"/quiz/\"+id);}},[display.view_quiz,id]);function goToPath(pathname){window.history.pushState(null,\"\",pathname);}function displayHome(){navigateTo(PAGES.HOME);}function displayNew(){navigateTo(PAGES.NEW);}function displayLogin(){navigateTo(PAGES.LOGIN);}function displayRegister(){navigateTo(PAGES.REGISTER);}function displayView(){navigateTo(PAGES.VIEW_QUIZ);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{is_authenticated:is_authenticated,homeDisplay:displayHome,newDisplay:displayNew,loginDisplay:displayLogin,registerDisplay:displayRegister}),display.home&&loaded&&/*#__PURE__*/_jsx(Home,{goView:displayView,setId:setId}),display.new&&/*#__PURE__*/_jsx(QuizForm,{goHome:displayHome}),display.login&&/*#__PURE__*/_jsx(Login,{goRegister:displayHome}),display.register&&/*#__PURE__*/_jsx(Register,{goLogin:displayLogin}),display.view_quiz&&id&&/*#__PURE__*/_jsx(QuizDisplay,{id:id},id)]});}export default App;","map":{"version":3,"names":["QuizForm","Navbar","Login","Register","QuizDisplay","useState","useEffect","useCallback","Home","useAuth","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PAGES","HOME","name","path","auth","NEW","VIEW_QUIZ","REGISTER","LOGIN","App","window","onpopstate","location","reload","_useState","undefined","_useState2","_slicedToArray","id","setId","_useAuth","is_authenticated","loaded","_useState3","home","new","view_quiz","register","login","_useState4","display","setDisplays","navigateTo","page","Object","keys","forEach","key","value","goToPath","_objectSpread","pathname","substring","parseInt","length","history","pushState","displayHome","displayNew","displayLogin","displayRegister","displayView","children","homeDisplay","newDisplay","loginDisplay","registerDisplay","goView","goHome","goRegister","goLogin"],"sources":["C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/src/App.tsx"],"sourcesContent":["import './App.css';\nimport QuizForm from './components/QuizForm/Quizform'\nimport Navbar from './components/Navbar';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport QuizDisplay from './components/QuizView/QuizDisplay';\nimport { useState, useEffect, useCallback } from \"react\"\nimport Home from './components/QuizView/Quizview';\nimport { useAuth } from './components/ts/hooks';\n\nconst PAGES: Pages = {\n  HOME: { name: \"home\", path: \"/\", auth: false },\n  NEW: { name: \"new\", path: \"/new\", auth: true },\n  VIEW_QUIZ: { name: \"view_quiz\", path: \"/quiz/\", auth: true },\n\n  REGISTER: { name: \"register\", path: \"/register\", auth: false },\n  LOGIN: { name: \"login\", path: \"/login\", auth: false },\n}\ninterface Pages {\n  HOME: Page,\n  NEW: Page,\n  VIEW_QUIZ: Page,\n\n  REGISTER: Page,\n  LOGIN: Page,\n}\ninterface Display {\n  home: boolean,\n  new: boolean,\n  view_quiz: boolean,\n\n  register: boolean,\n  login: boolean,\n}\ninterface Page {\n  auth: boolean,\n  name: string,\n  path: string,\n}\nfunction App() {\n  useEffect(()=>{\n    window.onpopstate = function() {\n    window.location.reload()\n   }\n  },[])\n  \n  const [id, setId] = useState<number | undefined>(undefined)\n  const { is_authenticated, loaded } = useAuth()\n  const [display, setDisplays] = useState({\n    home: true,\n    new: false,\n    view_quiz: false,\n    register: false,\n    login: false,\n  })\n  const navigateTo = useCallback((page: Page) => {\n    Object.keys(display).forEach((key, value) => {\n      key === page.name ? display[key as keyof Display] = true : display[key as keyof Display] = false\n    })\n    if (page.path !== PAGES.VIEW_QUIZ.path) { goToPath(page.path) }\n    setDisplays({ ...display })\n  }, [])\n  useEffect(() => {\n    const pathname = window.location.pathname;\n    Object.keys(PAGES).forEach((key, value) => {\n      if (loaded) {\n        if (pathname.substring(0, 6) === PAGES.VIEW_QUIZ.path && is_authenticated) {\n          setId(parseInt(pathname.substring(6, pathname.length)))\n          navigateTo({ path: pathname, name: PAGES.VIEW_QUIZ.name, auth: PAGES.VIEW_QUIZ.auth })\n        }\n        else if (PAGES[key as keyof Pages].path === pathname && pathname !== \"/\" && PAGES[key as keyof Pages].auth === is_authenticated) {\n          navigateTo(PAGES[key as keyof Pages])\n        }\n      }\n    })\n  }\n    , [is_authenticated])\n\n  useEffect(() => { if (id && display.view_quiz) { goToPath(\"/quiz/\" + id) } }, [display.view_quiz, id])\n  function goToPath(pathname: string) {\n    window.history.pushState(null, \"\", pathname);\n  }\n  function displayHome() {\n    navigateTo(PAGES.HOME)\n  }\n  function displayNew() {\n    navigateTo(PAGES.NEW)\n  }\n  function displayLogin() {\n    navigateTo(PAGES.LOGIN)\n  }\n  function displayRegister() {\n    navigateTo(PAGES.REGISTER)\n  }\n  function displayView() {\n    navigateTo(PAGES.VIEW_QUIZ)\n  }\n  return (\n    <>\n      <Navbar\n        is_authenticated={is_authenticated}\n        homeDisplay={displayHome}\n        newDisplay={displayNew}\n        loginDisplay={displayLogin}\n        registerDisplay={displayRegister}\n      />\n      {(display.home && loaded) && (\n        <Home goView={displayView} setId={setId} />\n      )}\n      {display.new && (\n        <QuizForm goHome={displayHome} />\n      )}\n      {display.login && (\n        <Login goRegister={displayHome} />\n      )}\n      {display.register && (\n        <Register goLogin={displayLogin} />\n      )}\n      {(display.view_quiz && id) &&\n        <QuizDisplay id={id} key={id} />\n      }\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}