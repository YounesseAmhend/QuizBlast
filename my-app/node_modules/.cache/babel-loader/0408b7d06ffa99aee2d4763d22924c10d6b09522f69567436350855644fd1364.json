{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from\"react\";export function useAuth(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),is_authenticated=_useState2[0],setAuthentication=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loaded=_useState4[0],setLoaded=_useState4[1];var _useState5=useState(undefined),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var isAuthenticateds=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/auth\",{method:\"GET\"}).then(function(response){return response.json();}).then(function(result){console.log(result);setAuthentication(result.is_authenticated);setLoaded(true);}).catch(function(Error){return setError(Error);});case 2:case\"end\":return _context.stop();}},_callee);}));return function isAuthenticateds(){return _ref.apply(this,arguments);};}();isAuthenticateds();},[]);return{is_authenticated:is_authenticated,loaded:loaded,error:error};}export function useFetch(link,init){var _useState7=useState(init),_useState8=_slicedToArray(_useState7,2),data=_useState8[0],setData=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loaded=_useState10[0],setLoaded=_useState10[1];var _useState11=useState(undefined),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var getResult=useRef(function(){});getResult.current=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://127.0.0.1:8000\"+link).then(function(response){console.log(response);return response.json();}).then(function(result){setData(result);setLoaded(true);}).catch(function(err){return setError(err);});case 2:case\"end\":return _context2.stop();}},_callee2);}));useEffect(function(){getResult.current();},[getResult]);return{data:data,loaded:loaded,error:error};}","map":{"version":3,"names":["useState","useEffect","useRef","useAuth","_useState","undefined","_useState2","_slicedToArray","is_authenticated","setAuthentication","_useState3","_useState4","loaded","setLoaded","_useState5","_useState6","error","setError","isAuthenticateds","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","method","then","response","json","result","console","log","catch","Error","stop","apply","arguments","useFetch","link","init","_useState7","_useState8","data","setData","_useState9","_useState10","_useState11","_useState12","getResult","current","_callee2","_callee2$","_context2","err"],"sources":["C:/Users/youne/Desktop/Brograming/WEB/Learning/FinalProject/quizblast/my-app/src/components/ts/hooks.ts"],"sourcesContent":["import {useState, useEffect, useRef } from \"react\"\r\n\r\nexport function useAuth(){\r\n    const [is_authenticated, setAuthentication] = useState<boolean | undefined>(undefined)\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [error, setError] = useState(undefined)\r\n    useEffect(()=>{\r\n            const isAuthenticateds = async () => {\r\n                await fetch(\"/auth\",{\r\n                    method: \"GET\",\r\n                    })\r\n                    .then((response) => response.json())\r\n                    .then((result) => {\r\n                        console.log(result)\r\n                        setAuthentication(result.is_authenticated)\r\n                        setLoaded(true)\r\n                    })\r\n                    .catch((Error)=>setError(Error))\r\n            }\r\n            isAuthenticateds()\r\n        }\r\n    ,[])\r\n    return {is_authenticated, loaded, error}\r\n}\r\n\r\nexport function useFetch<T>(link: string, init?: T){\r\n\r\n    const [data,setData] = useState<T | undefined>(init)\r\n    const [loaded, setLoaded] = useState(false)\r\n    const [error, setError] = useState(undefined)\r\n    const getResult = useRef(()=>{})\r\n    getResult.current = async () => {\r\n                await fetch(\"http://127.0.0.1:8000\"+link)\r\n                .then(response =>{\r\n                    console.log(response)\r\n                    return response.json()\r\n                })\r\n                .then((result)=>{\r\n                    setData(result)\r\n                    setLoaded(true)\r\n                })\r\n                .catch(err=>setError(err))\r\n            }\r\n    useEffect(()=>{\r\n            getResult.current();\r\n        }\r\n    ,[getResult])\r\n    return {data, loaded, error}\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}